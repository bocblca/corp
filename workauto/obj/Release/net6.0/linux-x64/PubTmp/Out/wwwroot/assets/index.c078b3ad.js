import{c as A,a as S,b,d as y,r as f,o as O,e as E,f as U,g as m,w as _,F as k,h as d,i as q}from"./vendor.888a4747.js";const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};I();const L="modulepreload",g={},N="./",p=function(t,r){return!r||r.length===0?t():Promise.all(r.map(s=>{if(s=`${N}${s}`,s in g)return;g[s]=!0;const o=s.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${n}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":L,o||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),o)return new Promise((l,v)=>{a.addEventListener("load",l),a.addEventListener("error",v)})})).then(()=>t())},i={setAuth(e){localStorage.setItem("isAuth",JSON.stringify(e))},getAuth(){return JSON.parse(localStorage.getItem("isAuth"))},rmAuth(){localStorage.removeItem("isAuth")},setOpenid(e){localStorage.setItem("rcbopenid",JSON.stringify(e))},getOpenid(){return JSON.parse(localStorage.getItem("rcbopenid"))},rmOpenid(){localStorage.removeItem("rcbopenid")},setfromUrl(e){localStorage.setItem("fromUrl",JSON.stringify(e))},getfromUrl(){return JSON.parse(localStorage.getItem("fromUrl"))},rmfromUrl(){localStorage.removeItem("fromUrl")}};var c=A({state:{rcbopenid:i.getOpenid(),isAuth:i.getAuth(),fromUrl:i.getfromUrl()},mutations:{SETAUTH(e,t){e.isAuth=t,i.setAuth(t)},REMOVEAUTH(e){e.isAuth=0,i.rmAuth()},Setopenid(e,t){e.rcbopenid=t,i.setOpenid(t)},rmpenid(e){e.rcbopenid="",i.rmOpenid()},Seturl(e,t){e.fromUrl=t,i.setfromUrl(t)},RMurl(e){e.fromUrl="",i.rmfromUrl()}},actions:{saveauth(e,t){e.commit("SETAUTH",t)},removeauth(e){e.commit("REMOVEAUTH")},saveopenid(e,t){e.commit("Setopenid",t)},removeopenid(e){e.commit("rmopenid")},saveurl(e,t){e.commit("Seturl",t)},removrul(e){e.commit("RMurl")}}});function P(e){const t=S.create({baseURL:"https://rcbcybank.com",timeout:1e4,headers:{"Content-Type":"application/json"},data:{}});return t.interceptors.request.use(r=>(r.data=JSON.stringify(r.data),console.log("rcbblc:"),console.log(r),r),r=>(console.log(r),Promise.error(r))),t.interceptors.response.use(r=>(console.log(r.data),r),r=>{switch(r.response.status){case 401:console.log("\u65E0\u6743\u8BBF\u95EE");break;case 403:console.log("token\u8FC7\u671F\u5566");break;case 404:console.log("404\u5566"),u.push({path:"/404"});break;default:return Promise.reject(r)}return Promise.reject(r)}),t(e)}const h=()=>p(()=>import("./Home.8535e306.js"),["assets/Home.8535e306.js","assets/Home.29642285.css","assets/Login.329c47aa.js","assets/vendor.888a4747.js"]),R=()=>p(()=>import("./About.19628270.js"),["assets/About.19628270.js","assets/vendor.888a4747.js"]),T=()=>p(()=>import("./Login.329c47aa.js"),["assets/Login.329c47aa.js","assets/vendor.888a4747.js"]),V=[{path:"/home",name:"\u9996\u9875",component:h,meta:{requireAuth:!0}},{path:"/",name:"\u9996\u98752",component:h,meta:{requireAuth:!0}},{path:"",name:"\u9996\u98753",component:h,meta:{requireAuth:!0}},{path:"/about",name:"\u5173\u4E8E",component:R,meta:{requireAuth:!1}},{path:"/login",name:"\u767B\u5F55",component:T,meta:{requireAuth:!1}}],u=b({history:y({}.BASE_URL),routes:V});u.beforeEach((e,t,r)=>{if(e.meta.requireAuth&&c.state.isAuth==null)c.dispatch("saveurl",t.path),r({path:"/login"});else{if(e.query.code){let s=e.query.code;P({url:"/Wx/Getuser",params:{code:s}}).then(o=>{o.data.openid&&(c.dispatch("saveopenid",o.data.openid),c.dispatch("saveauth",1),u.push({query:""}))}).catch(c.dispatch("saveauth",null))}r()}});var $=(e,t)=>{const r=e.__vccOpts||e;for(const[s,o]of t)r[s]=o;return r};const j={name:"home",components:{}},w={id:"nav"},H=d("Home"),J=d(" | "),x=d("About");function C(e,t,r,s,o,n){const a=f("router-link"),l=f("router-view");return O(),E(k,null,[U("div",w,[m(a,{to:"/home"},{default:_(()=>[H]),_:1}),J,m(a,{to:"/about"},{default:_(()=>[x]),_:1})]),m(l)],64)}var B=$(j,[["render",C]]);q(B).use(c).use(u).mount("#app");export{$ as _,P as r};
