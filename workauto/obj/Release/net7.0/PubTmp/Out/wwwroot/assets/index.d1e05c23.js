import{d as f,a as d,c as h,b as g,r as _,o as S,e as b,f as v,g as y,B as A,T as w,h as I,N as O,I as P}from"./vendor.1f3d39ec.js";const B=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}};B();const E="modulepreload",u={},L="/",i=function(a,t){return!t||t.length===0?a():Promise.all(t.map(s=>{if(s=`${L}${s}`,s in u)return;u[s]=!0;const e=s.endsWith(".css"),o=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${o}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":E,e||(n.as="script",n.crossOrigin=""),n.href=s,document.head.appendChild(n),e)return new Promise((m,p)=>{n.addEventListener("load",m),n.addEventListener("error",p)})})).then(()=>a())},N=f("useStore",{state:()=>({rcbopenid:localStorage.getItem("rcbopenid"),isAuth:localStorage.getItem("isAuth")||0,fromUrl:localStorage.getItem("fromUrl")}),actions:{setauth(r){this.isAuth=r,localStorage.setItem("isAuth",JSON.stringify(r))},removeauth(){this.isAuth=null,localStorage.removeItem("isAuth")},Setopenid(r){this.rcbopenid=r,localStorage.setItem("rcbopenid",JSON.stringify(r))},rmpenid(){this.rcbopenid=null,localStorage.removeItem("rcbopenid")},Seturl(r){this.fromUrl=r,localStorage.setItem("fromUrl",JSON.stringify(r))},RMurl(){this.fromUrl=null,localStorage.removeItem("fromUrl")}}});function l(r){const a=d.create({baseURL:"https://rcbcybank.com",timeout:1e4,headers:{"Content-Type":"application/json"},data:{}});return a.interceptors.request.use(t=>(t.data=JSON.stringify(t.data),t),t=>(console.log(t),Promise.error(t))),a.interceptors.response.use(t=>t,t=>{switch(t.response.status){case 401:console.log("\u65E0\u6743\u8BBF\u95EE");break;case 403:console.log("token\u8FC7\u671F\u5566");break;case 404:console.log("404\u5566"),c.push({path:"/404"});break;default:return Promise.reject(t)}return Promise.reject(t)}),a(r)}const k=()=>i(()=>import("./Home.c21ff10c.js"),["assets/Home.c21ff10c.js","assets/Home.21091ac7.css","assets/NavBar.468d516d.js","assets/NavBar.6290faf8.css","assets/vendor.1f3d39ec.js","assets/vendor.17e44914.css"]),q=()=>i(()=>import("./About.422a4637.js"),["assets/About.422a4637.js","assets/vendor.1f3d39ec.js","assets/vendor.17e44914.css"]),T=()=>i(()=>import("./Person.f5506688.js"),["assets/Person.f5506688.js","assets/NavBar.468d516d.js","assets/NavBar.6290faf8.css","assets/vendor.1f3d39ec.js","assets/vendor.17e44914.css"]),R=[{path:"/home",name:"\u9996\u9875",component:k,meta:{requireAuth:!0,isShowTabBar:!0,isShowNavBar:!0,title:"\u9996\u9875"}},{path:"/",name:"\u9996\u98752",redirect:"/home",meta:{requireAuth:!0,isShowTabBar:!0,isShowNavBar:!0,title:"\u9996\u9875"}},{path:"/person",name:"\u4E2A\u4EBA\u4E2D\u5FC3",component:T,meta:{requireAuth:!0,isShowTabBar:!0,isShowNavBar:!0,title:"\u4E2A\u4EBA\u4E2D\u5FC3"}},{path:"/about",name:"\u5173\u4E8E",component:q,meta:{requireAuth:!1}}],c=h({history:g({}.BASE_URL),routes:R});c.beforeEach(async(r,a,t)=>{const s=N();let e=r.query.code;if(s.isAuth==1){t();return}if(r.meta.requireAuth)if(e){const o=await l({url:"/Wx/Getuser",params:{code:e}});s.Setopenid(o.data.openid),s.setauth(1),t(r.path);return}else{let o=await l({url:"/Wx/getwxurl",params:{flag:0}});window.location.href=o.data}});var U=(r,a)=>{const t=r.__vccOpts||r;for(const[s,e]of a)t[s]=e;return t};const $={name:"app"};function j(r,a,t,s,e,o){const n=_("router-view");return S(),b(n)}var x=U($,[["render",j]]);v(x).use(y()).use(A).use(w).use(I).use(c).use(O).use(P).mount("#app");export{U as _,l as r};
