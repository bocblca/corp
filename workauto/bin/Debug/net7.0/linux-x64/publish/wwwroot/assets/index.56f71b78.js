import{d,a as h,c as f,b as g,r as _,o as b,e as S,f as v,g as y,i as A,s as w}from"./vendor.f660479c.js";const P=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}};P();const k="modulepreload",l={},B="/",i=function(n,t){return!t||t.length===0?n():Promise.all(t.map(s=>{if(s=`${B}${s}`,s in l)return;l[s]=!0;const e=s.endsWith(".css"),o=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${o}`))return;const a=document.createElement("link");if(a.rel=e?"stylesheet":k,e||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),e)return new Promise((m,p)=>{a.addEventListener("load",m),a.addEventListener("error",p)})})).then(()=>n())},E=d("useStore",{state:()=>({rcbopenid:localStorage.getItem("rcbopenid"),isAuth:localStorage.getItem("isAuth")||0,fromUrl:localStorage.getItem("fromUrl")}),actions:{setauth(r){this.isAuth=r,localStorage.setItem("isAuth",JSON.stringify(r))},removeauth(){this.isAuth=null,localStorage.removeItem("isAuth")},Setopenid(r){this.rcbopenid=r,localStorage.setItem("rcbopenid",JSON.stringify(r))},rmpenid(){this.rcbopenid=null,localStorage.removeItem("rcbopenid")},Seturl(r){this.fromUrl=r,localStorage.setItem("fromUrl",JSON.stringify(r))},RMurl(){this.fromUrl=null,localStorage.removeItem("fromUrl")}}});function u(r){const n=h.create({baseURL:"https://rcbcybank.com",timeout:1e4,headers:{"Content-Type":"application/json"},data:{}});return n.interceptors.request.use(t=>(t.data=JSON.stringify(t.data),t),t=>(console.log(t),Promise.error(t))),n.interceptors.response.use(t=>t,t=>{switch(t.response.status){case 401:console.log("\u65E0\u6743\u8BBF\u95EE");break;case 403:console.log("token\u8FC7\u671F\u5566");break;case 404:console.log("404\u5566"),c.push({path:"/404"});break;default:return Promise.reject(t)}return Promise.reject(t)}),n(r)}const O=()=>i(()=>import("./Home.12d56427.js"),["assets/Home.12d56427.js","assets/Home.21091ac7.css","assets/NavBar.84903a19.js","assets/vendor.f660479c.js"]),I=()=>i(()=>import("./About.ccb295d4.js"),["assets/About.ccb295d4.js","assets/vendor.f660479c.js"]),L=()=>i(()=>import("./Person.8037347b.js"),["assets/Person.8037347b.js","assets/NavBar.84903a19.js","assets/vendor.f660479c.js"]),N=()=>i(()=>import("./kpi.450cc9c6.js"),["assets/kpi.450cc9c6.js","assets/kpi.27f48bbe.css","assets/NavBar.84903a19.js","assets/vendor.f660479c.js"]),q=[{path:"/home",name:"\u9996\u9875",component:O,meta:{requireAuth:!0,isShowTabBar:!0,isShowNavBar:!0,title:"\u9996\u9875"}},{path:"/kpi",name:"kpi\u4E0A\u4F20\u9875",component:N,meta:{requireAuth:!1,isShowTabBar:!1,isShowNavBar:!1,title:"Execl\u4E0A\u4F20"}},{path:"/",name:"\u9996\u98752",redirect:"/home",meta:{requireAuth:!0,isShowTabBar:!0,isShowNavBar:!0,title:"\u9996\u9875"}},{path:"/person",name:"\u4E2A\u4EBA\u4E2D\u5FC3",component:L,meta:{requireAuth:!0,isShowTabBar:!0,isShowNavBar:!0,title:"\u4E2A\u4EBA\u4E2D\u5FC3"}},{path:"/about",name:"\u5173\u4E8E",component:I,meta:{requireAuth:!1}}],c=f({history:g({}.BASE_URL),routes:q});c.beforeEach(async(r,n,t)=>{const s=E();let e=r.query.code;if(s.isAuth==1){t();return}if(r.meta.requireAuth)if(e){const o=await u({url:"/Wx/Getuser",params:{code:e}});s.Setopenid(o.data.openid),s.setauth(1),t(r.path);return}else{let o=await u({url:"/Wx/getwxurl",params:{flag:0}});window.location.href=o.data}});var $=(r,n)=>{const t=r.__vccOpts||r;for(const[s,e]of n)t[s]=e;return t};const x={name:"app",setup(){return{isMobile:()=>navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}},mounted(){this.isMobile()?(console.log("phone"),this.$router.replace("/home")):(console.log("pc"),this.$router.replace("/kpi"))}};function R(r,n,t,s,e,o){const a=_("router-view");return b(),S(a)}var T=$(x,[["render",R]]);v(T).use(y()).use(A).use(w).use(c).mount("#app");export{$ as _,u as r};
