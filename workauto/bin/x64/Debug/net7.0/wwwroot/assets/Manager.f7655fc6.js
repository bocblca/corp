var Qe=Object.defineProperty,Ze=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var Oe=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var $e=(e,t,a)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ue=(e,t)=>{for(var a in t||(t={}))tt.call(t,a)&&$e(e,a,t[a]);if(Oe)for(var a of Oe(t))nt.call(t,a)&&$e(e,a,t[a]);return e},he=(e,t)=>Ze(e,et(t));import{_ as ae,u as F,e as fe,f as de,a1 as at,j as ot,x as st,q as rt,w as dt,g as lt,l as it,a7 as ct}from"./base.0eca82ef.js";import{E as ut,a as ht,b as ft}from"./el-table-column.d115de1d.js";import{O as Ee,q as Le,X as pt,E as gt,M as vt,Y as pe}from"./request.14f9b8df.js";import{j as G,o as _,e as H,p as j,s as we,a1 as yt,ay as bt,u as R,$ as mt,v as V,h as E,w as B,E as le,P as J,m as q,t as M,n as ze,N as ie,Q as Me,k as oe,i as De,Z as Ie,K as D,l as Fe,G as ge,F as se,_ as Nt,ah as kt,y as ve,W as ye,J as Q,af as Te,I as Re,O as Ct,r as Z,x as ee,q as Et,D as te,L as Ke,M as xe,a4 as qe,C as wt,ac as Dt}from"./vendor.eff3b74f.js";import{_ as Tt,u as Kt}from"./index.c5656c26.js";import{m as He,h as je,y as xt,z as St,E as ce,f as I,i as _t,d as Ue,A as Ge,B as Se,C as Pt,k as Bt,u as At}from"./index.f3818ef9.js";const be=Symbol("tabsRootContextKey"),Ot={name:"ElCollapseTransition"},$t=G(he(ue({},Ot),{setup(e){const t=F("collapse-transition"),a={beforeEnter(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0},enter(n){n.dataset.oldOverflow=n.style.overflow,n.scrollHeight!==0?(n.style.maxHeight=`${n.scrollHeight}px`,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom):(n.style.maxHeight=0,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom),n.style.overflow="hidden"},afterEnter(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow},beforeLeave(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.dataset.oldOverflow=n.style.overflow,n.style.maxHeight=`${n.scrollHeight}px`,n.style.overflow="hidden"},leave(n){n.scrollHeight!==0&&(n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0)},afterLeave(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom}};return(n,o)=>(_(),H(mt,yt({name:R(t).b()},bt(a)),{default:j(()=>[we(n.$slots,"default")]),_:3},16,["name"]))}}));var me=ae($t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);me.install=e=>{e.component(me.name,me)};const Lt=me,zt=fe({tabs:{type:de(Array),default:()=>He([])}}),Mt={name:"ElTabBar"},It=G(he(ue({},Mt),{props:zt,setup(e,{expose:t}){const a=e,n="ElTabBar",o=ie(),s=V(be);s||Ee(n,"<el-tabs><el-tab-bar /></el-tabs>");const d=F("tabs"),r=E(),p=E(),f=()=>{let i=0,l=0;const u=["top","bottom"].includes(s.props.tabPosition)?"width":"height",v=u==="width"?"x":"y";return a.tabs.every(y=>{var m,N,P,A;const $=(N=(m=o.parent)==null?void 0:m.refs)==null?void 0:N[`tab-${y.paneName}`];if(!$)return!1;if(!y.active)return!0;l=$[`client${J(u)}`];const x=v==="x"?"left":"top";i=$.getBoundingClientRect()[x]-((A=(P=$.parentElement)==null?void 0:P.getBoundingClientRect()[x])!=null?A:0);const L=window.getComputedStyle($);return u==="width"&&(a.tabs.length>1&&(l-=Number.parseFloat(L.paddingLeft)+Number.parseFloat(L.paddingRight)),i+=Number.parseFloat(L.paddingLeft)),!1}),{[u]:`${l}px`,transform:`translate${J(v)}(${i}px)`}},h=()=>p.value=f();return B(()=>a.tabs,async()=>{await le(),h()},{immediate:!0}),je(r,()=>h()),t({ref:r,update:h}),(i,l)=>(_(),q("div",{ref_key:"barRef",ref:r,class:M([R(d).e("active-bar"),R(d).is(R(s).props.tabPosition)]),style:ze(p.value)},null,6))}}));var Ft=ae(It,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Rt=fe({panes:{type:de(Array),default:()=>He([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:de(Function),default:Me},onTabRemove:{type:de(Function),default:Me},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Ve="ElTabNav",qt=G({name:Ve,props:Rt,setup(e,{expose:t}){const a=ie(),n=V(be);n||Ee(Ve,"<el-tabs><tab-nav /></el-tabs>");const o=F("tabs"),s=xt(),d=St(),r=E(),p=E(),f=E(),h=E(!1),i=E(0),l=E(!1),u=E(!0),v=oe(()=>["top","bottom"].includes(n.props.tabPosition)?"width":"height"),y=oe(()=>({transform:`translate${v.value==="width"?"X":"Y"}(-${i.value}px)`})),m=()=>{if(!r.value)return;const k=r.value[`offset${J(v.value)}`],T=i.value;if(!T)return;const c=T>k?T-k:0;i.value=c},N=()=>{if(!r.value||!p.value)return;const k=p.value[`offset${J(v.value)}`],T=r.value[`offset${J(v.value)}`],c=i.value;if(k-c<=T)return;const b=k-c>T*2?c+T:k-T;i.value=b},P=async()=>{const k=p.value;if(!h.value||!f.value||!r.value||!k)return;await le();const T=f.value.querySelector(".is-active");if(!T)return;const c=r.value,b=["top","bottom"].includes(n.props.tabPosition),C=T.getBoundingClientRect(),S=c.getBoundingClientRect(),z=b?k.offsetWidth-S.width:k.offsetHeight-S.height,O=i.value;let K=O;b?(C.left<S.left&&(K=O-(S.left-C.left)),C.right>S.right&&(K=O+C.right-S.right)):(C.top<S.top&&(K=O-(S.top-C.top)),C.bottom>S.bottom&&(K=O+(C.bottom-S.bottom))),K=Math.max(K,0),i.value=Math.min(K,z)},A=()=>{if(!p.value||!r.value)return;const k=p.value[`offset${J(v.value)}`],T=r.value[`offset${J(v.value)}`],c=i.value;if(T<k){const b=i.value;h.value=h.value||{},h.value.prev=b,h.value.next=b+T<k,k-b<T&&(i.value=k-T)}else h.value=!1,c>0&&(i.value=0)},$=k=>{const T=k.code,{up:c,down:b,left:C,right:S}=I;if(![c,b,C,S].includes(T))return;const z=Array.from(k.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),O=z.indexOf(k.target);let K;T===C||T===c?O===0?K=z.length-1:K=O-1:O<z.length-1?K=O+1:K=0,z[K].focus(),z[K].click(),x()},x=()=>{u.value&&(l.value=!0)},L=()=>l.value=!1;return B(s,k=>{k==="hidden"?u.value=!1:k==="visible"&&setTimeout(()=>u.value=!0,50)}),B(d,k=>{k?setTimeout(()=>u.value=!0,50):u.value=!1}),je(f,A),De(()=>setTimeout(()=>P(),0)),Ie(()=>A()),t({scrollToActiveTab:P,removeFocus:L}),B(()=>e.panes,()=>a.update(),{flush:"post"}),()=>{const k=h.value?[D("span",{class:[o.e("nav-prev"),o.is("disabled",!h.value.prev)],onClick:m},[D(ce,null,{default:()=>[D(at,null,null)]})]),D("span",{class:[o.e("nav-next"),o.is("disabled",!h.value.next)],onClick:N},[D(ce,null,{default:()=>[D(ot,null,null)]})])]:null,T=e.panes.map((c,b)=>{var C,S,z,O;const K=c.props.disabled,W=(S=(C=c.props.name)!=null?C:c.index)!=null?S:`${b}`,g=!K&&(c.isClosable||e.editable);c.index=`${b}`;const w=g?D(ce,{class:"is-icon-close",onClick:X=>e.onTabRemove(c,X)},{default:()=>[D(st,null,null)]}):null,U=((O=(z=c.slots).label)==null?void 0:O.call(z))||c.props.label,Y=!K&&c.active?0:-1;return D("div",{ref:`tab-${W}`,class:[o.e("item"),o.is(n.props.tabPosition),o.is("active",c.active),o.is("disabled",K),o.is("closable",g),o.is("focus",l.value)],id:`tab-${W}`,key:`tab-${W}`,"aria-controls":`pane-${W}`,role:"tab","aria-selected":c.active,tabindex:Y,onFocus:()=>x(),onBlur:()=>L(),onClick:X=>{L(),e.onTabClick(c,W,X)},onKeydown:X=>{g&&(X.code===I.delete||X.code===I.backspace)&&e.onTabRemove(c,X)}},[U,w])});return D("div",{ref:f,class:[o.e("nav-wrap"),o.is("scrollable",!!h.value),o.is(n.props.tabPosition)]},[k,D("div",{class:o.e("nav-scroll"),ref:r},[D("div",{class:[o.e("nav"),o.is(n.props.tabPosition),o.is("stretch",e.stretch&&["top","bottom"].includes(n.props.tabPosition))],ref:p,style:y.value,role:"tablist",onKeydown:$},[e.type?null:D(Ft,{tabs:[...e.panes]},null),T])])])}}}),Ht=fe({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:de(Function),default:()=>!0},stretch:Boolean}),_e=e=>Fe(e)||_t(e),jt={[Le]:e=>_e(e),"tab-click":(e,t)=>t instanceof Event,"tab-change":e=>_e(e),edit:(e,t)=>["remove","add"].includes(t),"tab-remove":e=>_e(e),"tab-add":()=>!0};var Ut=G({name:"ElTabs",props:Ht,emits:jt,setup(e,{emit:t,slots:a,expose:n}){var o,s;const d=F("tabs"),r=E(),p=ge({}),f=E((s=(o=e.modelValue)!=null?o:e.activeName)!=null?s:"0"),h=y=>{f.value=y,t(Le,y),t("tab-change",y)},i=async y=>{var m,N,P;if(!(f.value===y||Ue(y)))try{await((m=e.beforeLeave)==null?void 0:m.call(e,y,f.value))!==!1&&(h(y),(P=(N=r.value)==null?void 0:N.removeFocus)==null||P.call(N))}catch{}},l=(y,m,N)=>{y.props.disabled||(i(m),t("tab-click",y,N))},u=(y,m)=>{y.props.disabled||Ue(y.props.name)||(m.stopPropagation(),t("edit",y.props.name,"remove"),t("tab-remove",y.props.name))},v=()=>{t("edit",void 0,"add"),t("tab-add")};return pt({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},oe(()=>!!e.activeName)),B(()=>e.activeName,y=>i(y)),B(()=>e.modelValue,y=>i(y)),B(f,async()=>{var y;await le(),(y=r.value)==null||y.scrollToActiveTab()}),se(be,{props:e,currentName:f,registerPane:N=>p[N.uid]=N,unregisterPane:N=>delete p[N]}),n({currentName:f}),()=>{const y=e.editable||e.addable?D("span",{class:d.e("new-tab"),tabindex:"0",onClick:v,onKeydown:P=>{P.code===I.enter&&v()}},[D(ce,{class:d.is("icon-plus")},{default:()=>[D(rt,null,null)]})]):null,m=D("div",{class:[d.e("header"),d.is(e.tabPosition)]},[y,D(qt,{ref:r,currentName:f.value,editable:e.editable,type:e.type,panes:Object.values(p),stretch:e.stretch,onTabClick:l,onTabRemove:u},null)]),N=D("div",{class:d.e("content")},[we(a,"default")]);return D("div",{class:[d.b(),d.m(e.tabPosition),{[d.m("card")]:e.type==="card",[d.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[m,N]:[N,m]])}}});const Gt=fe({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Vt=["id","aria-hidden","aria-labelledby"],Wt={name:"ElTabPane"},Yt=G(he(ue({},Wt),{props:Gt,setup(e){const t=e,a="ElTabPane",n=ie(),o=Nt(),s=V(be);s||Ee(a,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const d=F("tab-pane"),r=E(),p=oe(()=>t.closable||s.props.closable),f=Ge(()=>{var v;return s.currentName.value===((v=t.name)!=null?v:r.value)}),h=E(f.value),i=oe(()=>{var v;return(v=t.name)!=null?v:r.value}),l=Ge(()=>!t.lazy||h.value||f.value);B(f,v=>{v&&(h.value=!0)});const u=ge({uid:n.uid,slots:o,props:t,paneName:i,active:f,index:r,isClosable:p});return De(()=>{s.registerPane(u)}),kt(()=>{s.unregisterPane(u.uid)}),(v,y)=>R(l)?ve((_(),q("div",{key:0,id:`pane-${R(i)}`,class:M(R(d).b()),role:"tabpanel","aria-hidden":!R(f),"aria-labelledby":`tab-${R(i)}`},[we(v.$slots,"default")],10,Vt)),[[ye,R(f)]]):Q("v-if",!0)}}));var We=ae(Yt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Xt=dt(Ut,{TabPane:We}),Jt=lt(We),re="$treeNodeId",Ye=function(e,t){!t||t[re]||Object.defineProperty(t,re,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Pe=function(e,t){return e?t[e]:t[re]},Be=e=>{let t=!0,a=!0,n=!0;for(let o=0,s=e.length;o<s;o++){const d=e[o];(d.checked!==!0||d.indeterminate)&&(t=!1,d.disabled||(n=!1)),(d.checked!==!1||d.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:n,half:!t&&!a}},Ne=function(e){if(e.childNodes.length===0)return;const{all:t,none:a,half:n}=Be(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):a&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||Ne(o)},ke=function(e,t){const a=e.store.props,n=e.data||{},o=a[t];if(typeof o=="function")return o(n,e);if(typeof o=="string")return n[o];if(typeof o=="undefined"){const s=n[t];return s===void 0?"":s}};let Qt=0;class ne{constructor(t){this.id=Qt++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const a in t)Te(t,a)&&(this[a]=t[a]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const a=t.props;if(a&&typeof a.isLeaf!="undefined"){const s=ke(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Ye(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,o=t.key;o&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Ye(this,t),this.data=t,this.childNodes=[];let a;this.level===0&&Array.isArray(this.data)?a=this.data:a=ke(this,"children")||[];for(let n=0,o=a.length;n<o;n++)this.insertChild({data:a[n]})}get label(){return ke(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return ke(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return t.childNodes[a+1]}return null}get previousSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return a>0?t.childNodes[a-1]:null}return null}contains(t,a=!0){return(this.childNodes||[]).some(n=>n===t||a&&n.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,a,n){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof ne)){if(!n){const o=this.getChildren(!0);o.includes(t.data)||(typeof a=="undefined"||a<0?o.push(t.data):o.splice(a,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=ge(new ne(t)),t instanceof ne&&t.initialize()}t.level=this.level+1,typeof a=="undefined"||a<0?this.childNodes.push(t):this.childNodes.splice(a,0,t),this.updateLeafState()}insertBefore(t,a){let n;a&&(n=this.childNodes.indexOf(a)),this.insertChild(t,n)}insertAfter(t,a){let n;a&&(n=this.childNodes.indexOf(a),n!==-1&&(n+=1)),this.insertChild(t,n)}removeChild(t){const a=this.getChildren()||[],n=a.indexOf(t.data);n>-1&&a.splice(n,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let a=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){a=this.childNodes[n];break}a&&this.removeChild(a)}expand(t,a){const n=()=>{if(a){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Ne(this),n())}):n()}doCreateChildren(t,a={}){t.forEach(n=>{this.insertChild(Object.assign({data:n},a),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser!="undefined"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,a,n,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:d,allWithoutDisable:r}=Be(this.childNodes);!this.isLeaf&&!d&&r&&(this.checked=!1,t=!1);const p=()=>{if(a){const f=this.childNodes;for(let l=0,u=f.length;l<u;l++){const v=f[l];o=o||t!==!1;const y=v.disabled?v.checked:o;v.setChecked(y,a,!0,o)}const{half:h,all:i}=Be(f);i||(this.checked=i,this.indeterminate=h)}};if(this.shouldLoadData()){this.loadData(()=>{p(),Ne(this)},{checked:t!==!1});return}else p()}const s=this.parent;!s||s.level===0||n||Ne(s)}getChildren(t=!1){if(this.level===0)return this.data;const a=this.data;if(!a)return null;const n=this.store.props;let o="children";return n&&(o=n.children||"children"),a[o]===void 0&&(a[o]=null),t&&!a[o]&&(a[o]=[]),a[o]}updateChildren(){const t=this.getChildren()||[],a=this.childNodes.map(s=>s.data),n={},o=[];t.forEach((s,d)=>{const r=s[re];!!r&&a.findIndex(f=>f[re]===r)>=0?n[r]={index:d,data:s}:o.push({index:d,data:s})}),this.store.lazy||a.forEach(s=>{n[s[re]]||this.removeChildByData(s)}),o.forEach(({index:s,data:d})=>{this.insertChild({data:d},s)}),this.updateLeafState()}loadData(t,a={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(a).length)){this.loading=!0;const n=o=>{this.loaded=!0,this.loading=!1,this.childNodes=[],this.doCreateChildren(o,a),this.updateLeafState(),t&&t.call(this,o)};this.store.load(this,n)}else t&&t.call(this)}}class Zt{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const a in t)Te(t,a)&&(this[a]=t[a]);this.nodesMap={}}initialize(){this.root=new ne({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load?this.load(this.root,a=>{this.root.doCreateChildren(a),this._initDefaultCheckedNodes()}):this._initDefaultCheckedNodes()}filter(t){const a=this.filterNodeMethod,n=this.lazy,o=function(s){const d=s.root?s.root.childNodes:s.childNodes;if(d.forEach(r=>{r.visible=a.call(r,t,r.data,r),o(r)}),!s.visible&&d.length){let r=!0;r=!d.some(p=>p.visible),s.root?s.root.visible=r===!1:s.visible=r===!1}!t||s.visible&&!s.isLeaf&&!n&&s.expand()};o(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof ne)return t;const a=typeof t!="object"?t:Pe(this.key,t);return this.nodesMap[a]||null}insertBefore(t,a){const n=this.getNode(a);n.parent.insertBefore({data:t},n)}insertAfter(t,a){const n=this.getNode(a);n.parent.insertAfter({data:t},n)}remove(t){const a=this.getNode(t);a&&a.parent&&(a===this.currentNode&&(this.currentNode=null),a.parent.removeChild(a))}append(t,a){const n=a?this.getNode(a):this.root;n&&n.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],a=this.nodesMap;t.forEach(n=>{const o=a[n];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const a=this.key;!t||!t.data||(a?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(n=>{this.deregisterNode(n)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,a=!1){const n=[],o=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(r=>{(r.checked||a&&r.indeterminate)&&(!t||t&&r.isLeaf)&&n.push(r.data),o(r)})};return o(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(a=>(a||{})[this.key])}getHalfCheckedNodes(){const t=[],a=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(s=>{s.indeterminate&&t.push(s.data),a(s)})};return a(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],a=this.nodesMap;for(const n in a)Te(a,n)&&t.push(a[n]);return t}updateChildren(t,a){const n=this.nodesMap[t];if(!n)return;const o=n.childNodes;for(let s=o.length-1;s>=0;s--){const d=o[s];this.remove(d.data)}for(let s=0,d=a.length;s<d;s++){const r=a[s];this.append(r,n.data)}}_setCheckedKeys(t,a=!1,n){const o=this._getAllNodes().sort((r,p)=>p.level-r.level),s=Object.create(null),d=Object.keys(n);o.forEach(r=>r.setChecked(!1,!1));for(let r=0,p=o.length;r<p;r++){const f=o[r],h=f.data[t].toString();if(!d.includes(h)){f.checked&&!s[h]&&f.setChecked(!1,!1);continue}let l=f.parent;for(;l&&l.level>0;)s[l.data[t]]=!0,l=l.parent;if(f.isLeaf||this.checkStrictly){f.setChecked(!0,!1);continue}if(f.setChecked(!0,!0),a){f.setChecked(!1,!1);const u=function(v){v.childNodes.forEach(m=>{m.isLeaf||m.setChecked(!1,!1),u(m)})};u(f)}}}setCheckedNodes(t,a=!1){const n=this.key,o={};t.forEach(s=>{o[(s||{})[n]]=!0}),this._setCheckedKeys(n,a,o)}setCheckedKeys(t,a=!1){this.defaultCheckedKeys=t;const n=this.key,o={};t.forEach(s=>{o[s]=!0}),this._setCheckedKeys(n,a,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(a=>{const n=this.getNode(a);n&&n.expand(null,this.autoExpandParent)})}setChecked(t,a,n){const o=this.getNode(t);o&&o.setChecked(!!a,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const a=this.currentNode;a&&(a.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,a=!0){const n=t[this.key],o=this.nodesMap[n];this.setCurrentNode(o),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,a=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const n=this.getNode(t);n&&(this.setCurrentNode(n),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const en=G({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=F("tree"),a=V("NodeInstance"),n=V("RootTree");return()=>{const o=e.node,{data:s,store:d}=o;return e.renderContent?e.renderContent(Re,{_self:a,node:o,data:s,store:d}):n.ctx.slots.default?n.ctx.slots.default({node:o,data:s}):Re("span",{class:t.be("node","label")},[o.label])}}});var tn=ae(en,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function Xe(e){const t=V("TreeNodeMap",null),a={treeNodeExpand:n=>{e.node!==n&&e.node.collapse()},children:[]};return t&&t.children.push(a),se("TreeNodeMap",a),{broadcastExpanded:n=>{if(!!e.accordion)for(const o of a.children)o.treeNodeExpand(n)}}}const Je=Symbol("dragEvents");function nn({props:e,ctx:t,el$:a,dropIndicator$:n,store:o}){const s=F("tree"),d=E({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return se(Je,{treeNodeDragStart:({event:h,treeNode:i})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(i.node))return h.preventDefault(),!1;h.dataTransfer.effectAllowed="move";try{h.dataTransfer.setData("text/plain","")}catch{}d.value.draggingNode=i,t.emit("node-drag-start",i.node,h)},treeNodeDragOver:({event:h,treeNode:i})=>{const l=i,u=d.value.dropNode;u&&u!==l&&Se(u.$el,s.is("drop-inner"));const v=d.value.draggingNode;if(!v||!l)return;let y=!0,m=!0,N=!0,P=!0;typeof e.allowDrop=="function"&&(y=e.allowDrop(v.node,l.node,"prev"),P=m=e.allowDrop(v.node,l.node,"inner"),N=e.allowDrop(v.node,l.node,"next")),h.dataTransfer.dropEffect=m||y||N?"move":"none",(y||m||N)&&u!==l&&(u&&t.emit("node-drag-leave",v.node,u.node,h),t.emit("node-drag-enter",v.node,l.node,h)),(y||m||N)&&(d.value.dropNode=l),l.node.nextSibling===v.node&&(N=!1),l.node.previousSibling===v.node&&(y=!1),l.node.contains(v.node,!1)&&(m=!1),(v.node===l.node||v.node.contains(l.node))&&(y=!1,m=!1,N=!1);const A=l.$el.getBoundingClientRect(),$=a.value.getBoundingClientRect();let x;const L=y?m?.25:N?.45:1:-1,k=N?m?.75:y?.55:0:1;let T=-9999;const c=h.clientY-A.top;c<A.height*L?x="before":c>A.height*k?x="after":m?x="inner":x="none";const b=l.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),C=n.value;x==="before"?T=b.top-$.top:x==="after"&&(T=b.bottom-$.top),C.style.top=`${T}px`,C.style.left=`${b.right-$.left}px`,x==="inner"?Pt(l.$el,s.is("drop-inner")):Se(l.$el,s.is("drop-inner")),d.value.showDropIndicator=x==="before"||x==="after",d.value.allowDrop=d.value.showDropIndicator||P,d.value.dropType=x,t.emit("node-drag-over",v.node,l.node,h)},treeNodeDragEnd:h=>{const{draggingNode:i,dropType:l,dropNode:u}=d.value;if(h.preventDefault(),h.dataTransfer.dropEffect="move",i&&u){const v={data:i.node.data};l!=="none"&&i.node.remove(),l==="before"?u.node.parent.insertBefore(v,u.node):l==="after"?u.node.parent.insertAfter(v,u.node):l==="inner"&&u.node.insertChild(v),l!=="none"&&o.value.registerNode(v),Se(u.$el,s.is("drop-inner")),t.emit("node-drag-end",i.node,u.node,l,h),l!=="none"&&t.emit("node-drop",i.node,u.node,l,h)}i&&!u&&t.emit("node-drag-end",i.node,null,l,h),d.value.showDropIndicator=!1,d.value.draggingNode=null,d.value.dropNode=null,d.value.allowDrop=!0}}),{dragState:d}}const an=G({name:"ElTreeNode",components:{ElCollapseTransition:Lt,ElCheckbox:gt,NodeContent:tn,ElIcon:ce,Loading:it},props:{node:{type:ne,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const a=F("tree"),{broadcastExpanded:n}=Xe(e),o=V("RootTree"),s=E(!1),d=E(!1),r=E(null),p=E(null),f=E(null),h=V(Je),i=ie();se("NodeInstance",i),e.node.expanded&&(s.value=!0,d.value=!0);const l=o.props.children||"children";B(()=>{const c=e.node.data[l];return c&&[...c]},()=>{e.node.updateChildren()}),B(()=>e.node.indeterminate,c=>{y(e.node.checked,c)}),B(()=>e.node.checked,c=>{y(c,e.node.indeterminate)}),B(()=>e.node.expanded,c=>{le(()=>s.value=c),c&&(d.value=!0)});const u=c=>Pe(o.props.nodeKey,c.data),v=c=>{const b=e.props.class;if(!b)return{};let C;if(Ct(b)){const{data:S}=c;C=b(S,c)}else C=b;return Fe(C)?{[C]:!0}:C},y=(c,b)=>{(r.value!==c||p.value!==b)&&o.ctx.emit("check-change",e.node.data,c,b),r.value=c,p.value=b},m=c=>{const b=o.store.value;b.setCurrentNode(e.node),o.ctx.emit("current-change",b.currentNode?b.currentNode.data:null,b.currentNode),o.currentNode.value=e.node,o.props.expandOnClickNode&&P(),o.props.checkOnClickNode&&!e.node.disabled&&A(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,i,c)},N=c=>{o.instance.vnode.props.onNodeContextmenu&&(c.stopPropagation(),c.preventDefault()),o.ctx.emit("node-contextmenu",c,e.node.data,e.node,i)},P=()=>{e.node.isLeaf||(s.value?(o.ctx.emit("node-collapse",e.node.data,e.node,i),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,i)))},A=(c,b)=>{e.node.setChecked(b.target.checked,!o.props.checkStrictly),le(()=>{const C=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:C.getCheckedNodes(),checkedKeys:C.getCheckedKeys(),halfCheckedNodes:C.getHalfCheckedNodes(),halfCheckedKeys:C.getHalfCheckedKeys()})})};return{ns:a,node$:f,tree:o,expanded:s,childNodeRendered:d,oldChecked:r,oldIndeterminate:p,getNodeKey:u,getNodeClass:v,handleSelectChange:y,handleClick:m,handleContextMenu:N,handleExpandIconClick:P,handleCheckChange:A,handleChildNodeExpand:(c,b,C)=>{n(b),o.ctx.emit("node-expand",c,b,C)},handleDragStart:c=>{!o.props.draggable||h.treeNodeDragStart({event:c,treeNode:e})},handleDragOver:c=>{c.preventDefault(),!!o.props.draggable&&h.treeNodeDragOver({event:c,treeNode:{$el:f.value,node:e.node}})},handleDrop:c=>{c.preventDefault()},handleDragEnd:c=>{!o.props.draggable||h.treeNodeDragEnd(c)},CaretRight:ct}}}),on=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],sn=["aria-expanded"];function rn(e,t,a,n,o,s){const d=Z("el-icon"),r=Z("el-checkbox"),p=Z("loading"),f=Z("node-content"),h=Z("el-tree-node"),i=Z("el-collapse-transition");return ve((_(),q("div",{ref:"node$",class:M([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=te((...l)=>e.handleClick&&e.handleClick(...l),["stop"])),onContextmenu:t[2]||(t[2]=(...l)=>e.handleContextMenu&&e.handleContextMenu(...l)),onDragstart:t[3]||(t[3]=te((...l)=>e.handleDragStart&&e.handleDragStart(...l),["stop"])),onDragover:t[4]||(t[4]=te((...l)=>e.handleDragOver&&e.handleDragOver(...l),["stop"])),onDragend:t[5]||(t[5]=te((...l)=>e.handleDragEnd&&e.handleDragEnd(...l),["stop"])),onDrop:t[6]||(t[6]=te((...l)=>e.handleDrop&&e.handleDrop(...l),["stop"]))},[ee("div",{class:M(e.ns.be("node","content")),style:ze({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(_(),H(d,{key:0,class:M([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:te(e.handleExpandIconClick,["stop"])},{default:j(()=>[(_(),H(Et(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Q("v-if",!0),e.showCheckbox?(_(),H(r,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=te(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Q("v-if",!0),e.node.loading?(_(),H(d,{key:2,class:M([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:j(()=>[D(p)]),_:1},8,["class"])):Q("v-if",!0),D(f,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),D(i,null,{default:j(()=>[!e.renderAfterExpand||e.childNodeRendered?ve((_(),q("div",{key:0,class:M(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(_(!0),q(Ke,null,xe(e.node.childNodes,l=>(_(),H(h,{key:e.getNodeKey(l),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:l,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,sn)),[[ye,e.expanded]]):Q("v-if",!0)]),_:1})],42,on)),[[ye,e.node.visible]])}var dn=ae(an,[["render",rn],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function ln({el$:e},t){const a=F("tree"),n=qe([]),o=qe([]);De(()=>{d()}),Ie(()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),B(o,r=>{r.forEach(p=>{p.setAttribute("tabindex","-1")})}),Bt(e,"keydown",r=>{const p=r.target;if(!p.className.includes(a.b("node")))return;const f=r.code;n.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`));const h=n.value.indexOf(p);let i;if([I.up,I.down].includes(f)){if(r.preventDefault(),f===I.up){i=h===-1?0:h!==0?h-1:n.value.length-1;const u=i;for(;!t.value.getNode(n.value[i].dataset.key).canFocus;){if(i--,i===u){i=-1;break}i<0&&(i=n.value.length-1)}}else{i=h===-1?0:h<n.value.length-1?h+1:0;const u=i;for(;!t.value.getNode(n.value[i].dataset.key).canFocus;){if(i++,i===u){i=-1;break}i>=n.value.length&&(i=0)}}i!==-1&&n.value[i].focus()}[I.left,I.right].includes(f)&&(r.preventDefault(),p.click());const l=p.querySelector('[type="checkbox"]');[I.enter,I.space].includes(f)&&l&&(r.preventDefault(),l.click())});const d=()=>{var r;n.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const p=e.value.querySelectorAll(`.${a.is("checked")}[role=treeitem]`);if(p.length){p[0].setAttribute("tabindex","0");return}(r=n.value[0])==null||r.setAttribute("tabindex","0")}}const cn=G({name:"ElTree",components:{ElTreeNode:dn},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:[String,Object]},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:a}=At(),n=F("tree"),o=E(new Zt({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const s=E(o.value.root),d=E(null),r=E(null),p=E(null),{broadcastExpanded:f}=Xe(e),{dragState:h}=nn({props:e,ctx:t,el$:r,dropIndicator$:p,store:o});ln({el$:r},o);const i=oe(()=>{const{childNodes:g}=s.value;return!g||g.length===0||g.every(({visible:w})=>!w)});B(()=>e.defaultCheckedKeys,g=>{o.value.setDefaultCheckedKey(g)}),B(()=>e.defaultExpandedKeys,g=>{o.value.setDefaultExpandedKeys(g)}),B(()=>e.data,g=>{o.value.setData(g)},{deep:!0}),B(()=>e.checkStrictly,g=>{o.value.checkStrictly=g});const l=g=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(g)},u=g=>Pe(e.nodeKey,g.data),v=g=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const w=o.value.getNode(g);if(!w)return[];const U=[w.data];let Y=w.parent;for(;Y&&Y!==s.value;)U.push(Y.data),Y=Y.parent;return U.reverse()},y=(g,w)=>o.value.getCheckedNodes(g,w),m=g=>o.value.getCheckedKeys(g),N=()=>{const g=o.value.getCurrentNode();return g?g.data:null},P=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const g=N();return g?g[e.nodeKey]:null},A=(g,w)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(g,w)},$=(g,w)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(g,w)},x=(g,w,U)=>{o.value.setChecked(g,w,U)},L=()=>o.value.getHalfCheckedNodes(),k=()=>o.value.getHalfCheckedKeys(),T=(g,w=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");o.value.setUserCurrentNode(g,w)},c=(g,w=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");o.value.setCurrentNodeKey(g,w)},b=g=>o.value.getNode(g),C=g=>{o.value.remove(g)},S=(g,w)=>{o.value.append(g,w)},z=(g,w)=>{o.value.insertBefore(g,w)},O=(g,w)=>{o.value.insertAfter(g,w)},K=(g,w,U)=>{f(w),t.emit("node-expand",g,w,U)},W=(g,w)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(g,w)};return se("RootTree",{ctx:t,props:e,store:o,root:s,currentNode:d,instance:ie()}),se(vt,void 0),{ns:n,store:o,root:s,currentNode:d,dragState:h,el$:r,dropIndicator$:p,isEmpty:i,filter:l,getNodeKey:u,getNodePath:v,getCheckedNodes:y,getCheckedKeys:m,getCurrentNode:N,getCurrentKey:P,setCheckedNodes:A,setCheckedKeys:$,setChecked:x,getHalfCheckedNodes:L,getHalfCheckedKeys:k,setCurrentNode:T,setCurrentKey:c,t:a,getNode:b,remove:C,append:S,insertBefore:z,insertAfter:O,handleNodeExpand:K,updateKeyChildren:W}}});function un(e,t,a,n,o,s){var d;const r=Z("el-tree-node");return _(),q("div",{ref:"el$",class:M([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(_(!0),q(Ke,null,xe(e.root.childNodes,p=>(_(),H(r,{key:e.getNodeKey(p),node:p,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(_(),q("div",{key:0,class:M(e.ns.e("empty-block"))},[ee("span",{class:M(e.ns.e("empty-text"))},wt((d=e.emptyText)!=null?d:e.t("el.tree.emptyText")),3)],2)):Q("v-if",!0),ve(ee("div",{ref:"dropIndicator$",class:M(e.ns.e("drop-indicator"))},null,2),[[ye,e.dragState.showDropIndicator]])],2)}var Ce=ae(cn,[["render",un],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Ce.install=e=>{e.component(Ce.name,Ce)};const hn=Ce,fn=hn;function Ae(e,t){return e.filter(a=>t===void 0?a.parentid===7:a.parentid===t).map(a=>(a.children=Ae(e,a.id),a))}const pn={name:"Manager",setup(){const e={children:"children",label:"name"},t=E([]),a=E([]),n=E("allsub"),o=Dt(),s=E({}),d=u=>{u.children.length==0&&o.push({path:"/members",query:{bankcode:u.id,bankname:u.name,pid:u.parentid}})},r=u=>{o.push({path:"/members",query:{bankcode:u.id,bankname:u.name,pid:u.parentid}}),console.log(u)},p=(u,v)=>{console.log(u,v)},f=ge({kind:"\u8D44\u4EA7\u5206\u7C7B",state:"\u8D44\u4EA7\u72B6\u6001",money:"\u91D1\u989D\u5408\u8BA1",sums:"\u6570\u91CF\u5408\u8BA1"}),h=E(20),i=E(0);let l=E(1);return{mrouter:o,getallbank:d,getbranch:r,handleClick:p,defaultProps:e,datacount:s,mdata:t,ndata:a,activeName:n,tableHeader:f,pageSize:h,totaldata:i,currentPage:l}},async mounted(){let e=Kt();if(e.rcbuserid==null){const p={code:this.$route.query.code},f=await pe("/GetUserid",p);console.log(f.data.userid),e.Setuser(f.data.userid)}const a=await pe("/Getdeptlist",{dept_id:7}),n=Ae(a.data,7);this.mdata=n;const s=await pe("/Getbranchdeptlist",{dept_id:7,pid:7}),d=Ae(s.data,7);this.ndata=d;const r=await pe("/Getasset_total");this.datacount.data=r.data,this.totaldata=r.data.length},created(){},methods:{pagechanges(e){this.currentPage=e},handleCurrentChange(e){},Getnums(e){const{columns:t,data:a}=e,n=[];return t.forEach((o,s)=>{if(s==0){n[s]="\u5408\u8BA1";return}const d=a.map(r=>Number(r[o.property]));o.property=="money"||o.property=="sums"?n[s]=d.reduce((r,p)=>{const f=Number(p);return isNaN(f)?r:r+p},0):n[s]="--"}),n}}},gn={style:{"margin-top":"20px"}},vn={class:"page"};function yn(e,t,a,n,o,s){const d=fn,r=Jt,p=ut,f=ht,h=ft,i=Xt;return _(),q("div",null,[D(i,{modelValue:n.activeName,"onUpdate:modelValue":t[0]||(t[0]=l=>n.activeName=l),class:"demo-tabs",onTabClick:n.handleClick},{default:j(()=>[D(r,{label:"\u5168\u90E8\u673A\u6784",name:"allsub"},{default:j(()=>[ee("div",null,[D(d,{data:n.mdata,accordion:"",props:n.defaultProps,onNodeClick:n.getallbank,"empty-text":"\u6B63\u5728\u52A0\u8F7D\u673A\u6784\u8868...","render-after-expand":!0,"highlight-current":!0},null,8,["data","props","onNodeClick"])])]),_:1}),D(r,{label:"\u4E8C\u7EA7\u673A\u6784",name:"second"},{default:j(()=>[ee("div",null,[D(d,{data:n.ndata,accordion:"",props:n.defaultProps,onNodeClick:n.getbranch,"empty-text":"\u6B63\u5728\u52A0\u8F7D\u673A\u6784\u8868...","render-after-expand":!0,"highlight-current":!0},null,8,["data","props","onNodeClick"])])]),_:1}),D(r,{label:"\u5168\u884C\u7EDF\u8BA1",name:"allbank"},{default:j(()=>[ee("div",gn,[n.datacount.data?(_(),H(f,{key:0,data:n.datacount.data.slice((n.currentPage-1)*n.pageSize,n.currentPage*n.pageSize),style:{width:"100%"},"tooltip-effect":"light",border:!0,"table-layout":"auto",onCurrentChange:s.handleCurrentChange,"show-summary":"","summary-method":s.Getnums},{default:j(()=>[(_(!0),q(Ke,null,xe(n.tableHeader,(l,u)=>(_(),H(p,{"show-overflow-tooltip":!0,prop:u,label:l,key:u},null,8,["prop","label"]))),128))]),_:1},8,["data","onCurrentChange","summary-method"])):Q("",!0)]),ee("div",vn,[D(h,{small:"",background:"",layout:"prev, pager, next","page-size":n.pageSize,total:n.totaldata,onCurrentChange:s.pagechanges,class:"mt-4","hide-on-single-page":!0},null,8,["page-size","total","onCurrentChange"])])]),_:1})]),_:1},8,["modelValue","onTabClick"])])}var Dn=Tt(pn,[["render",yn],["__scopeId","data-v-2ba19b0e"]]);export{Dn as default};
